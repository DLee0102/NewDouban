# Django Learning Notes

## Writing first Django app part1
```cmd
python -m django --version
```
```cmd
django-admin startproject mysite  //创建Django项目软件包
```
```cmd
python manage.py runserver
// 运行服务器
```
```cmd
python manage.py runserver 8080
// 可设置开放的端口
```
```cmd
python manage.py runserver 0.0.0.0:8000
// 广播
```
```cmd
python manage.py startapp polls
// 创建app软件包
```
- path()的用法
## Writing first Django app part2
```cmd
py manage.py migrate
// 根据INSTALLED_APPS来创建表
```
```cmd
py manage.py makemigrations polls
// 告知Django保存修改
```
```cmd
py manage.py sqlmigrate polls 0001
// 输出migrate所需要执行的sql语句
```
- Table names are automatically generated by combining the name of the app (polls) and the lowercase name of the model – question and choice. (You can override this behavior.)
- Primary keys (IDs) are added automatically. (You can override this, too.)
- By convention, Django appends "_id" to the foreign key field name. (Yes, you can override this, as well.)
- The foreign key relationship is made explicit by a FOREIGN KEY constraint. Don’t worry about the DEFERRABLE parts; it’s telling PostgreSQL to not enforce the foreign key until the end of the transaction.
- The sqlmigrate command doesn’t actually run the migration on your database - instead, it prints it to the screen so that you can see what SQL Django thinks is required. It’s useful for checking what Django is going to do or if you have database administrators who require SQL scripts for changes.
```cmd
py manage.py migrate
```
- Django tracks which ones are applied using a special table in your database called django_migrations
- three-step guide to making model changes:
  - Change your models (in models.py).
  - Run python manage.py makemigrations to create migrations for those changes
  - Run python manage.py migrate to apply those changes to the database.
```cmd
py manage.py shell
```
- It’s important to add __str__() methods to your models
- Make the poll app modifiable in the admin
```python
from django.contrib import admin

from .models import Question

admin.site.register(Question)
```
## Writing first Django app, part 3
- The question_id=34 part comes from <int:question_id>. Using angle brackets “captures” part of the URL and sends it as a keyword argument to the view function. 